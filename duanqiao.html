<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ–­æ¡¥æ®‹é›ªÂ·å›½é£ç§‘æ™®å°æ¸¸æˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        ink: '#2c2c2c',
                        paper: '#f5f1e9', // å¤é£é»„åº•è‰²ï¼ˆä¸»è‰²ï¼‰
                        snow: '#f5f1e9cc', // åŠé€æ˜å¤é£é»„ï¼ˆæ›¿ä»£ç™½è‰²ï¼‰
                        mist: '#b8c2cc80',
                        red-ink: '#8c2c2c',
                        blue-ink: '#1a5b8c',
                    },
                    fontFamily: {
                        kai: ['"KaiTi"', '"STKaiti"', 'serif'],
                        song: ['"SimSun"', '"STSong"', 'serif'],
                    },
                    keyframes: {
                        pulse-light: {
                            '0%, 100%': { boxShadow: '0 4px 12px rgba(0,0,0,0.1)' },
                            '50%': { boxShadow: '0 6px 20px rgba(0,0,0,0.15)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: translateY(-6px) },
                        }
                    },
                    animation: {
                        'pulse-light': 'pulse-light 2s ease-in-out infinite',
                        'float': 'float 2s ease-in-out infinite',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .ink-border {
                border: 1px solid #2c2c2c;
                border-radius: 8px; /* è¾¹æ¡†åœ†è§’ */
            }
            .snowflake {
                position: absolute;
                color: #fff;
                user-select: none;
                z-index: 10;
                animation: fall linear infinite;
            }
            @keyframes fall {
                0% { transform: translateY(-20px) rotate(0deg); }
                100% { transform: translateY(100vh) rotate(360deg); }
            }
            /* èœå•æŒ‰é’®ï¼šåœ†è§’+åŠ¨ç”»+å¤é£é»„èƒŒæ™¯ */
            .menu-btn {
                animation: pulse-light 2s ease-in-out infinite;
                transition: transform 0.3s ease, box-shadow 0.3s ease;
                border-radius: 12px; /* æŒ‰é’®å¤§åœ†è§’ */
                background-color: #f5f1e9; /* å¼ºåˆ¶å¤é£é»„èƒŒæ™¯ */
            }
            .menu-btn:hover {
                transform: translateY(-4px) scale(1.02);
                animation: none;
            }
            .menu-btn:active {
                transform: translateY(-2px) scale(1.01);
            }
            /* ç§»åŠ¨ç«¯é€‚é…çš„æ¨¡å—å®¹å™¨ */
            .module-container {
                position: absolute;
                width: 100%;
                padding: 15px;
                box-sizing: border-box;
            }
            /* å›½é£è£…é¥°çº¿æ¡ */
            .decor-line {
                height: 1px;
                background: linear-gradient(90deg, transparent, #2c2c2c, transparent);
                width: 80%;
                margin: 0 auto;
            }
            /* å›¾æ ‡æµ®åŠ¨åŠ¨ç”» */
            .icon-float {
                animation: float 3s ease-in-out infinite;
            }
            /* å…¨å±€å¼ºåˆ¶å¤é£é»„èƒŒæ™¯ */
            html, body, #startScreen, #gameContainer, .module-container > div {
                background-color: #f5f1e9 !important;
                background-image: none !important;
            }
            /* ç¡®ä¿è¿”å›æŒ‰é’®å±‚çº§æœ€é«˜ä¸”å¯ç‚¹å‡» */
            #backBtn {
                z-index: 999 !important;
                pointer-events: auto !important;
            }
        }
    </style>
</head>
<body class="bg-paper font-kai text-ink min-h-screen overflow-hidden">
    <!-- å¼€åœºé€‰æ‹©ç•Œé¢ï¼ˆå…¨å±å¤é£é»„èƒŒæ™¯+åœ†è§’æŒ‰é’®ï¼‰ -->
    <div id="startScreen" class="fixed inset-0 bg-paper flex flex-col items-center justify-between p-4 z-50">
        <!-- é¡¶éƒ¨è£…é¥°åŒº -->
        <div class="w-full text-center pt-6">
            <h1 class="text-[clamp(2.5rem,8vw,4rem)] font-bold tracking-wider text-red-ink mb-2">æ–­æ¡¥æ®‹é›ª</h1>
            <div class="decor-line mb-4"></div>
            <p class="text-[clamp(0.9rem,3vw,1.1rem)] text-gray-700 font-song">
                è¥¿æ¹–åæ™¯ Â· å†¬é›ªåˆéœ
            </p>
        </div>

        <!-- æ ¸å¿ƒåŠŸèƒ½æŒ‰é’®åŒºï¼ˆå¤§åœ†è§’+å¤é£é»„èƒŒæ™¯ï¼‰ -->
        <div class="w-full max-w-xs flex flex-col gap-6 mb-12">
            <!-- çŸ¥è¯†é—®ç­”æŒ‰é’®ï¼ˆåœ†è§’+å¤é£é»„ï¼‰ -->
            <button id="quizBtn" class="menu-btn py-8 bg-paper ink-border flex flex-col items-center justify-center">
                <span class="icon-float text-[clamp(2rem,6vw,2.5rem)] mb-2 text-blue-ink">â“</span>
                <span class="text-[clamp(1rem,4vw,1.2rem)] font-bold text-ink">æ–­æ¡¥çŸ¥è¯†é—®ç­”</span>
                <span class="text-xs mt-1 text-gray-600">è§£é”æ–­æ¡¥å°çŸ¥è¯†</span>
            </button>
            <!-- é›ªæ™¯äº’åŠ¨æŒ‰é’®ï¼ˆåœ†è§’+å¤é£é»„ï¼‰ -->
            <button id="snowBtn" class="menu-btn py-8 bg-paper ink-border flex flex-col items-center justify-center">
                <span class="icon-float text-[clamp(2rem,6vw,2.5rem)] mb-2 text-red-ink">â„ï¸</span>
                <span class="text-[clamp(1rem,4vw,1.2rem)] font-bold text-ink">æ–­æ¡¥é›ªæ™¯äº’åŠ¨</span>
                <span class="text-xs mt-1 text-gray-600">æ²‰æµ¸å¼èµé›ªä½“éªŒ</span>
            </button>
        </div>

        <!-- åº•éƒ¨ç§‘æ™®åŒºï¼ˆåœ†è§’ä¼˜åŒ–+å¤é£é»„èƒŒæ™¯ï¼‰ -->
        <div class="w-full bg-paper ink-border p-4 rounded-lg mb-6" style="border-radius: 12px !important;">
            <h3 class="text-center font-bold mb-2 text-blue-ink">æ™¯ç‚¹ç®€ä»‹</h3>
            <p class="text-[clamp(0.8rem,2.5vw,0.9rem)] leading-relaxed font-song text-ink">
                æ–­æ¡¥æ®‹é›ªæ˜¯è¥¿æ¹–åæ™¯ä¹‹ä¸€ï¼Œä½äºè¥¿æ¹–è¥¿åŒ—å²¸ã€‚æ¯å½“å†¬é›ªåˆéœï¼Œæ¡¥çš„é˜³é¢å†°é›ªæ¶ˆèï¼Œè€Œé˜´é¢ä»æ®‹é›ªè¦†ç›–ï¼Œè¿œè§‚æ¡¥èº«ä¼¼æ–­éæ–­ï¼Œæ•…å¾—æ­¤åã€‚ä½œä¸ºè¥¿æ¹–çš„æ ‡å¿—æ€§æ™¯è§‚ï¼Œå†æ¥ä¸ºæ–‡äººå¢¨å®¢æ‰€èµé¢‚ã€‚
            </p>
        </div>
    </div>

    <!-- æ¸¸æˆä¸»å®¹å™¨ï¼ˆå…¨å±å¤é£é»„èƒŒæ™¯ï¼‰ -->
    <div id="gameContainer" class="hidden relative w-full h-screen">
        <!-- å…¨å±€èƒŒæ™¯å›¾ï¼ˆæ”¹ä¸ºåŠé€æ˜å åŠ ï¼Œä¿ç•™å¤é£é»„åº•ï¼‰ -->
        <div class="absolute inset-0 overflow-hidden opacity-20">
            <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/79c2eed1abd24474bff0df4adfc7df1e.jpg~tplv-a9rns2rl98-image.png?rcl=202512160828018254A705DBCE01F7109B&rk3s=8e244e95&rrcfp=dafada99&x-expires=2082068881&x-signature=El9daUSVpRybsvVwihAa%2BdbPqhI%3D" 
                 class="w-full h-full object-cover" alt="æ–­æ¡¥æ®‹é›ª">
        </div>
        <!-- é›ªèŠ±å®¹å™¨ï¼ˆå åŠ åœ¨èƒŒæ™¯ä¸Šï¼‰ -->
        <div id="snowContainer" class="absolute inset-0"></div>

        <!-- è¿”å›æŒ‰é’®ï¼ˆç»‘å®šç‚¹å‡»äº‹ä»¶+æå‡å±‚çº§ï¼‰ -->
        <button id="backBtn" onclick="backToMenu()" class="absolute top-4 left-4 px-3 py-2 bg-paper ink-border z-30 text-ink hover:bg-gray-100/50 text-sm transition-all" style="border-radius: 8px !important; z-index: 999;">
            â† è¿”å›é¦–é¡µ
        </button>

        <!-- 1. çŸ¥è¯†é—®ç­”æ¨¡å—ï¼ˆåœ†è§’ä¼˜åŒ–+å¤é£é»„èƒŒæ™¯ï¼‰ -->
        <div id="quizModule" class="hidden module-container top-16 z-20">
            <div class="max-w-md mx-auto bg-paper p-5 ink-border rounded-lg shadow-lg" style="border-radius: 12px !important;">
                <h2 class="text-[clamp(1.2rem,4vw,1.5rem)] mb-5 text-center text-red-ink">ã€Œæ–­æ¡¥çŸ¥å¤šå°‘ã€</h2>
                <div id="quizQuestion" class="mb-5 text-[clamp(0.9rem,2.8vw,1rem)] leading-relaxed font-song text-ink">1. æ–­æ¡¥æ®‹é›ªæ˜¯â€œè¥¿æ¹–åæ™¯â€ä¸­çš„ç¬¬å‡ ä¸ªæ™¯ï¼Ÿ</div>
                <div class="space-y-3 mb-5" id="quizOptions">
                    <div class="p-3 ink-border hover:bg-gray-100/50 cursor-pointer transition-colors text-sm text-ink" style="border-radius: 8px !important;" onclick="checkAnswer(0)">â‘  ç¬¬ä¸€ä¸ª</div>
                    <div class="p-3 ink-border hover:bg-gray-100/50 cursor-pointer transition-colors text-sm text-ink" style="border-radius: 8px !important;" onclick="checkAnswer(1)">â‘¡ ç¬¬å››ä¸ª</div>
                    <div class="p-3 ink-border hover:bg-gray-100/50 cursor-pointer transition-colors text-sm text-ink" style="border-radius: 8px !important;" onclick="checkAnswer(2)">â‘¢ ç¬¬åä¸ª</div>
                </div>
                <div id="quizResult" class="mt-3 text-center text-[clamp(0.9rem,2.8vw,1rem)] hidden"></div>
                <div id="quizNext" class="mt-5 text-center hidden">
                    <button class="px-4 py-2 bg-paper ink-border text-ink hover:bg-gray-100/50 text-sm transition-transform hover:scale-105" style="border-radius: 8px !important;" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â†’</button>
                </div>
            </div>
        </div>

        <!-- 2. é›ªæ™¯äº’åŠ¨æ¨¡å—ï¼ˆåœ†è§’ä¼˜åŒ–+å¤é£é»„èƒŒæ™¯ï¼‰ -->
        <div id="snowModule" class="hidden module-container top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 text-center">
            <div class="max-w-md mx-auto bg-paper p-6 ink-border rounded-lg shadow-lg" style="border-radius: 12px !important;">
                <h2 class="text-[clamp(1.2rem,4vw,1.5rem)] mb-4 text-red-ink">ã€Œæ–­æ¡¥èµé›ªã€</h2>
                <p class="mb-5 text-[clamp(0.9rem,2.8vw,1rem)] font-song text-ink">ç‚¹å‡»å±å¹•æˆ–æŒ‰é’®é£˜è½æ›´å¤šé›ªèŠ±ï¼Œæ„Ÿå—æ–­æ¡¥é›ªæ™¯~</p>
                <button id="moreSnowBtn" class="px-5 py-3 bg-paper ink-border text-ink hover:bg-gray-100/50 mb-5 w-full transition-transform hover:scale-105" style="border-radius: 12px !important;">
                    ğŸŒ¨ï¸ ä¸€é”®é£˜é›ª
                </button>
                <div class="text-left text-gray-700 space-y-2 text-sm font-song">
                    <p class="text-ink">â–«ï¸ æ–­æ¡¥æ®‹é›ªç”±æ¥ï¼š</p>
                    <p class="text-ink">ç‘é›ªåˆéœæ—¶ï¼Œå®çŸ³å±±å‘å—æœ›ï¼Œæ–­æ¡¥é˜³é¢é›ªåŒ–ï¼Œé˜´é¢æ®‹é›ªçš‘çš‘ï¼Œæ¡¥èº«ä¼¼æ–­éæ–­ï¼Œå› æ­¤å¾—åã€‚</p>
                    <p class="mt-2 text-ink">â–«ï¸ æœ€ä½³è§‚èµæ—¶é—´ï¼šæ¯å¹´12æœˆè‡³æ¬¡å¹´2æœˆé›ªåæ™´å¤©</p>
                    <p class="text-ink">â–«ï¸ æœ€ä½³è§‚èµç‚¹ï¼šå®çŸ³å±±ã€æ–­æ¡¥æ¡¥å¤´</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å›¾ç‰‡é“¾æ¥ï¼ˆå…¨å±€èƒŒæ™¯ï¼‰
        const IMAGE_URL = "https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/79c2eed1abd24474bff0df4adfc7df1e.jpg~tplv-a9rns2rl98-image.png?rcl=202512160828018254A705DBCE01F7109B&rk3s=8e244e95&rrcfp=dafada99&x-expires=2082068881&x-signature=El9daUSVpRybsvVwihAa%2BdbPqhI%3D";
        
        // é—®ç­”é¢˜åº“
        const quizBank = [
            {
                question: "1. æ–­æ¡¥æ®‹é›ªæ˜¯â€œè¥¿æ¹–åæ™¯â€ä¸­çš„ç¬¬å‡ ä¸ªæ™¯ï¼Ÿ",
                options: ["â‘  ç¬¬ä¸€ä¸ª", "â‘¡ ç¬¬å››ä¸ª", "â‘¢ ç¬¬åä¸ª"],
                correct: 0,
                tip: "æ–­æ¡¥æ®‹é›ªæ˜¯è¥¿æ¹–åæ™¯ä¹‹é¦–å“¦~"
            },
            {
                question: "2. æ–­æ¡¥æ®‹é›ªçš„â€œæ–­â€æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ",
                options: ["â‘  æ¡¥èº«æ–­è£‚", "â‘¡ é›ªé¢ä¼¼æ–­éæ–­", "â‘¢ æ¡¥è¢«é›ªæ©åŸ‹"],
                correct: 1,
                tip: "é˜³é¢é›ªåŒ–ï¼Œé˜´é¢æ®‹é›ªï¼Œè§†è§‰ä¸Šåƒæ–­äº†ä¸€æ ·~"
            },
            {
                question: "3. æ–­æ¡¥ä½äºè¥¿æ¹–çš„å“ªä¸ªæ–¹ä½ï¼Ÿ",
                options: ["â‘  è¥¿æ¹–ä¸œå²¸", "â‘¡ è¥¿æ¹–è¥¿åŒ—å²¸", "â‘¢ è¥¿æ¹–å—å²¸"],
                correct: 1,
                tip: "æ–­æ¡¥åœ¨è¥¿æ¹–è¥¿åŒ—å²¸ï¼Œé è¿‘å®çŸ³å±±~"
            },
            {
                question: "4. æ–­æ¡¥æ®‹é›ªæœ€ä½³è§‚èµå­£èŠ‚æ˜¯ï¼Ÿ",
                options: ["â‘  æ˜¥å­£", "â‘¡ å†¬å­£", "â‘¢ ç§‹å­£"],
                correct: 1,
                tip: "åªæœ‰å†¬é›ªåˆéœæ—¶ï¼Œæ‰èƒ½çœ‹åˆ°â€œæ®‹é›ªå¦‚æ–­â€çš„ç¾æ™¯~"
            }
        ];
        let currentQuizIndex = 0;

        // ========== çŸ¥è¯†é—®ç­”é€»è¾‘ ==========
        function initQuiz() {
            currentQuizIndex = 0;
            renderQuiz();
            // æ¸…ç©ºé›ªèŠ±ä½†ä¸å½±å“æŒ‰é’®äº‹ä»¶
            setTimeout(() => {
                document.getElementById('snowContainer').innerHTML = '';
            }, 100);
        }

        function renderQuiz() {
            const quiz = quizBank[currentQuizIndex];
            document.getElementById('quizQuestion').textContent = quiz.question;
            
            const optionsEl = document.getElementById('quizOptions');
            optionsEl.innerHTML = '';
            quiz.options.forEach((option, idx) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'p-3 ink-border hover:bg-gray-100/50 cursor-pointer transition-colors text-sm text-ink';
                optionDiv.style.borderRadius = '8px'; // é€‰é¡¹åœ†è§’
                optionDiv.textContent = option;
                optionDiv.onclick = () => checkAnswer(idx);
                optionsEl.appendChild(optionDiv);
            });
            
            document.getElementById('quizResult').classList.add('hidden');
            document.getElementById('quizNext').classList.add('hidden');
        }

        function checkAnswer(choice) {
            const quiz = quizBank[currentQuizIndex];
            const resultEl = document.getElementById('quizResult');
            
            // ç¦ç”¨æ‰€æœ‰é€‰é¡¹ï¼ˆä»…ç¦ç”¨é€‰é¡¹ï¼Œä¸å½±å“è¿”å›æŒ‰é’®ï¼‰
            document.querySelectorAll('#quizOptions div').forEach(el => el.style.pointerEvents = 'none');
            
            if (choice === quiz.correct) {
                resultEl.textContent = `âœ… å›ç­”æ­£ç¡®ï¼${quiz.tip}`;
                resultEl.className = "mt-3 text-center text-[clamp(0.9rem,2.8vw,1rem)] text-green-700";
                
                // æ˜¾ç¤ºä¸‹ä¸€é¢˜æŒ‰é’®ï¼ˆæœ€åä¸€é¢˜é™¤å¤–ï¼‰
                if (currentQuizIndex < quizBank.length - 1) {
                    document.getElementById('quizNext').classList.remove('hidden');
                } else {
                    resultEl.textContent = "ğŸ‰ æ‰€æœ‰é—®é¢˜å›ç­”æ­£ç¡®ï¼ä½ å·²è§£é”æ–­æ¡¥å…¨éƒ¨å°çŸ¥è¯†~";
                }
            } else {
                resultEl.textContent = `âŒ å›ç­”é”™è¯¯~ ${quiz.tip}`;
                resultEl.className = "mt-3 text-center text-[clamp(0.9rem,2.8vw,1rem)] text-red-700";
            }
            
            resultEl.classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuizIndex++;
            renderQuiz();
            // å¯ç”¨é€‰é¡¹
            document.querySelectorAll('#quizOptions div').forEach(el => el.style.pointerEvents = 'auto');
        }

        // ========== é›ªæ™¯äº’åŠ¨é€»è¾‘ ==========
        function initSnow() {
            // æ¸…ç©ºç°æœ‰é›ªèŠ±å¹¶åˆå§‹åŒ–
            document.getElementById('snowContainer').innerHTML = '';
            createSnowflakes(50);
            
            // å¢åŠ é›ªèŠ±æŒ‰é’®äº‹ä»¶
            document.getElementById('moreSnowBtn').onclick = () => createSnowflakes(100);
            
            // ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®ç”Ÿæˆé›ªèŠ±ï¼ˆæ’é™¤è¿”å›æŒ‰é’®ï¼‰
            document.getElementById('gameContainer').addEventListener('click', (e) => {
                if (e.target.id !== 'backBtn' && e.target.id !== 'moreSnowBtn' && !e.target.closest('#backBtn')) {
                    createSnowflakes(10);
                }
            });
        }

        // ç”Ÿæˆé›ªèŠ±ï¼ˆå¯æŒ‡å®šæ•°é‡ï¼‰
        function createSnowflakes(count = 1) {
            const container = document.getElementById('snowContainer');
            for (let i=0; i<count; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.textContent = ['â„', 'â…', 'â†'][Math.floor(Math.random()*3)];
                snowflake.style.left = `${Math.random() * 100}%`;
                snowflake.style.top = `${-20 - Math.random() * 50}px`;
                snowflake.style.animationDuration = `${2 + Math.random() * 8}s`;
                snowflake.style.fontSize = `${8 + Math.random() * 12}px`;
                snowflake.style.opacity = `${0.3 + Math.random() * 0.7}`;
                snowflake.style.animationDelay = `${Math.random() * 3}s`;
                container.appendChild(snowflake);
                // è‡ªåŠ¨ç§»é™¤é›ªèŠ±ï¼ˆé¿å…å†…å­˜å ç”¨ï¼‰
                setTimeout(() => snowflake.remove(), 8000);
            }
        }

        // ========== ç•Œé¢åˆ‡æ¢é€»è¾‘ ==========
        // è¿”å›èœå•ï¼ˆç¡®ä¿å…¨å±€å¯è°ƒç”¨ï¼‰
        function backToMenu() {
            // éšè—æ‰€æœ‰æ¨¡å—ï¼Œæ˜¾ç¤ºå¼€åœºç•Œé¢
            document.getElementById('gameContainer').classList.add('hidden');
            document.getElementById('quizModule').classList.add('hidden');
            document.getElementById('snowModule').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
            // æ¸…ç©ºé›ªèŠ±
            document.getElementById('snowContainer').innerHTML = '';
        }

        // é¡µé¢åŠ è½½å®Œæˆåç»‘å®šæ‰€æœ‰äº‹ä»¶
        window.onload = function() {
            // æ‰“å¼€çŸ¥è¯†é—®ç­”
            document.getElementById('quizBtn').addEventListener('click', () => {
                document.getElementById('startScreen').classList.add('hidden');
                document.getElementById('gameContainer').classList.remove('hidden');
                document.getElementById('quizModule').classList.remove('hidden');
                initQuiz();
            });

            // æ‰“å¼€é›ªæ™¯äº’åŠ¨
            document.getElementById('snowBtn').addEventListener('click', () => {
                document.getElementById('startScreen').classList.add('hidden');
                document.getElementById('gameContainer').classList.remove('hidden');
                document.getElementById('snowModule').classList.remove('hidden');
                initSnow();
            });

            // ç¡®ä¿è¿”å›æŒ‰é’®äº‹ä»¶ç»‘å®š
            document.getElementById('backBtn').addEventListener('click', backToMenu);
        }

        // åˆå§‹åŒ–ï¼šé»˜è®¤å°‘é‡é›ªèŠ±
        createSnowflakes(5);
    </script>
</body>
</html>